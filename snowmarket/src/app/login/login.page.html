<ion-content [fullscreen]="true" padding class="background">
  <div id="container">
    <ion-img
      class="logo position-absolute top-0 start-50 translate-middle-x"
      src="../../assets/image/Biglogo.webp"
    ></ion-img>
    <ion-buttons class="login">
      <button id="click-trigger" (click)="presentPopover($event)">
        會員登入
      </button>
      <ion-popover
        #popover
        trigger="click-trigger"
        triggerAction="click"
        [isOpen]="isOpen"
        (didDismiss)="isOpen = false"
      >
        <ng-template>
          <ion-content class="ion-padding">
            <div class="form">
              <div
                class="container"
                id="container"
                [ngClass]="{'right-panel-active':signUpPageVisible}"
              >
                <div class="form-container sign-up-container">
                  <form
                    id="loginform"
                    title="loginForm"
                    method="post"
                    action="/reigist"
                  >
                    <h1>Create Account</h1>
                    <span>or use your email for registration</span>
                    <ion-item>
                      <ion-input
                        type="text"
                        [(ngModel)]="username"
                        name="username"
                        [clearInput]="true"
                        labelPlacement="Username"
                        placeholder="Username"
                      />
                    </ion-item>
                    <ion-item>
                      <ion-input
                        type="email"
                        [(ngModel)]="email"
                        name="email"
                        [clearInput]="true"
                        labelPlacement="Email"
                        placeholder="Email"
                      />
                    </ion-item>
                    <ion-item>
                      <ion-input
                        type="password"
                        [(ngModel)]="password"
                        name="password"
                        [clearInput]="true"
                        labelPlacement="Password"
                        placeholder="password"
                      />
                    </ion-item>
                    <ion-button (click)="reigist()">Sign Up</ion-button>
                  </form>
                </div>
                <div class="form-container sign-in-container">
                  <form action="#">
                    <h1>Sign in</h1>
                    <ion-item>
                      <ion-input
                        type="text"
                        [(ngModel)]="username"
                        name="username"
                        [clearInput]="true"
                        labelPlacement="Email"
                        placeholder="Username"
                      />
                    </ion-item>
                    <ion-item>
                      <ion-input
                        type="password"
                        [(ngModel)]="password"
                        name="password"
                        [clearInput]="true"
                        labelPlacement="Password"
                        placeholder="password"
                      />
                    </ion-item>
                    <ion-button (click)="login()">Login In</ion-button>
                  </form>
                </div>
                <div class="overlay-container">
                  <div class="overlay">
                    <div class="overlay-panel overlay-left">
                      <h1>Welcome Back!</h1>
                      <p>
                        To keep connected with us please login with your
                        personal info
                      </p>

                      <button
                        class="ghost"
                        id="signIn"
                        (click)="switchPage(false)"
                      >
                        Sign In
                      </button>
                    </div>
                    <div class="overlay-panel overlay-right">
                      <h1>Hello, Friend!</h1>
                      <p>Enter your personal details and start discount now!</p>
                      <button
                        class="ghost"
                        id="signUp"
                        (click)="switchPage(true)"
                      >
                        Sign Up
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ion-content>
        </ng-template>
      </ion-popover>
      <a href="../customer/customer.page.html">
        <button href="../customer/customer.page.html">非會員</button>
      </a>
    </ion-buttons>
  </div>
</ion-content>
